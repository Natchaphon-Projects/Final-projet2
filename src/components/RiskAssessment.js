import React, { useState } from "react";
import { useNavigate } from "react-router-dom";
import "./RiskAssessment.css";
import sadFace from "../assets/sad.png";
import happyFace from "../assets/happiness.png";

const featureLabels = {
  Guardian: "‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏• ‡πÄ‡∏î‡πá‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Vitamin_A_Intake_First_8_Weeks: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡∏ï‡∏≤‡∏°‡∏¥‡∏ô‡πÄ‡∏≠‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 8 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡πÅ‡∏£‡∏Å‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏•‡∏≠‡∏î‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Sanitary_Disposal: "‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏à‡∏±‡∏î‡∏≠‡∏∏‡∏à‡∏à‡∏≤‡∏£‡∏∞‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡πá‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏™‡∏∏‡∏Ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Mom_wash_hand_before_or_after_cleaning_children: "‡πÅ‡∏°‡πà‡∏•‡πâ‡∏≤‡∏á‡∏°‡∏∑‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÄ‡∏î‡πá‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Mom_wash_hand_before_or_after_feeding_the_child: "‡πÅ‡∏°‡πà‡∏•‡πâ‡∏≤‡∏á‡∏°‡∏∑‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏õ‡πâ‡∏≠‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏î‡πá‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Child_before_or_after_eating_food: "‡πÄ‡∏î‡πá‡∏Å‡∏•‡πâ‡∏≤‡∏á‡∏°‡∏∑‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏•‡∏±‡∏á‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Child_wash_hand_before_or_after_eating_food: "‡πÄ‡∏î‡πá‡∏Å‡∏•‡πâ‡∏≤‡∏á‡∏°‡∏∑‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Last_Month_Weight_Check: "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Weighed_Twice_Check_in_Last_3_Months : "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ä‡∏±‡πà‡∏á‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏™‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏™‡∏≤‡∏°‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Given_Anything_to_Drink_in_First_6_Months: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏ß‡πÉ‡∏î ‡πÜ ‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏à‡∏≤‡∏Å‡∏ô‡∏°‡πÅ‡∏°‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏´‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏£‡∏Å‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏•‡∏≠‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Still_Breastfeeding: "‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ‡πÄ‡∏î‡πá‡∏Å‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ô‡∏°‡πÅ‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Is_Respondent_Biological_Mother: "‡∏ú‡∏π‡πâ‡∏ï‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤‡∏£‡∏î‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏Å‡∏≥‡πÄ‡∏ô‡∏¥‡∏î‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡πá‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Breastfeeding_Count_DayandNight: "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ô‡∏°‡πÅ‡∏°‡πà‡∏ó‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤",
  Received_Vitamin_or_Mineral_Supplements: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏¥‡∏ï‡∏≤‡∏°‡∏¥‡∏ô‡πÅ‡∏£‡πà‡∏ò‡∏≤‡∏ï‡∏∏‡πÉ‡∏î ‡πÜ ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Plain_Water: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡∏•‡πà‡∏≤ (‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏õ‡∏£‡∏∏‡∏á‡πÅ‡∏ï‡πà‡∏á ‡πÑ‡∏°‡πà‡∏´‡∏ß‡∏≤‡∏ô) ‡∏î‡∏∑‡πà‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Infant_Formula_Intake_Count_Yesterday: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ô‡∏°‡∏ú‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏≤‡∏£‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Animal_Milk: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ô‡∏°‡∏à‡∏≤‡∏Å‡∏™‡∏±‡∏ï‡∏ß‡πå ‡πÄ‡∏ä‡πà‡∏ô ‡∏ô‡∏°‡∏ß‡∏±‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏ô‡∏°‡πÅ‡∏û‡∏∞‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Animal_Milk_Count: "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏î‡πá‡∏Å‡∏î‡∏∑‡πà‡∏°‡∏ô‡∏°‡∏à‡∏≤‡∏Å‡∏™‡∏±‡∏ï‡∏ß‡πå",
  Received_Juice_or_Juice_Drinks: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏ô‡πâ‡∏≥‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∏‡∏á‡∏£‡∏™‡∏´‡∏ß‡∏≤‡∏ô‡∏î‡∏∑‡πà‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Yogurt: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏∑‡πà‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Yogurt_Count: "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏î‡πá‡∏Å‡∏ö‡∏£‡∏¥‡πÇ‡∏†‡∏Ñ‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô‡∏ô‡∏µ‡πâ ‡∏ó‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô",
  Received_Thin_Porridge: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÇ‡∏à‡πä‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≤‡∏ß‡∏ï‡πâ‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏™ (‡πÄ‡∏ä‡πà‡∏ô ‡πÇ‡∏à‡πä‡∏Å‡∏Ç‡πâ‡∏≤‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏à‡πä‡∏Å‡∏ò‡∏±‡∏ç‡∏û‡∏∑‡∏ä) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏∑‡πà‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Tea: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ä‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∑‡πà‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡∏ä‡∏≤‡πÅ‡∏ö‡∏ö‡∏ä‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏£‡∏π‡∏õ‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó",
  Received_Other_Liquids: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏ß‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏≠‡∏∑‡πà‡∏ô‡πÉ‡∏î‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏•‡πà‡∏≤‡∏ß‡∏ñ‡∏∂‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà (‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡∏õ‡∏£‡∏∏‡∏á‡πÅ‡∏ï‡πà‡∏á‡∏£‡∏™ ‡∏Ø‡∏•‡∏Ø)",
  Received_Grain_Based_Foods: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏à‡∏≤‡∏Å‡∏ò‡∏±‡∏ç‡∏û‡∏∑‡∏ä ‡πÄ‡∏ä‡πà‡∏ô ‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á ‡∏Ç‡πâ‡∏≤‡∏ß ‡πÄ‡∏™‡πâ‡∏ô‡∏Å‡πã‡∏ß‡∏¢‡πÄ‡∏ï‡∏µ‡πã‡∏¢‡∏ß ‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏à‡πä‡∏Å‡∏Ç‡πâ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Orange_Yellow_Foods: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏µ‡∏™‡πâ‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏°‡∏ã‡∏∂‡πà‡∏á‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏™‡∏°‡∏Ç‡∏≠‡∏á‡πÄ‡∏ö‡∏ï‡πâ‡∏≤‡πÅ‡∏Ñ‡πÇ‡∏£‡∏ó‡∏µ‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏ü‡∏±‡∏Å‡∏ó‡∏≠‡∏á ‡πÅ‡∏Ñ‡∏£‡∏≠‡∏ó ‡∏™‡∏Ñ‡∏ß‡∏≠‡∏ä ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏±‡∏ô‡πÄ‡∏ó‡∏®‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏µ‡∏™‡πâ‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_White_Root_Foods: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÅ‡∏õ‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß ‡πÄ‡∏ä‡πà‡∏ô ‡∏°‡∏±‡∏ô‡πÄ‡∏ó‡∏®‡∏Ç‡∏≤‡∏ß ‡∏°‡∏±‡∏ô‡πÄ‡∏ú‡∏∑‡∏≠‡∏Å ‡∏°‡∏±‡∏ô‡∏™‡∏≥‡∏õ‡∏∞‡∏´‡∏•‡∏±‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Dark_Green_Leafy_Veggies: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏±‡∏Å‡πÉ‡∏ö‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏Ç‡πâ‡∏° ‡πÄ‡∏ä‡πà‡∏ô ‡∏ú‡∏±‡∏Å‡πÇ‡∏Ç‡∏° ‡∏Ñ‡∏∞‡∏ô‡πâ‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏±‡∏Å‡πÉ‡∏ö‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏≠‡∏∑‡πà‡∏ô ‡πÜ ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Ripe_Mangoes_Papayas: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡∏™‡∏∏‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏∞‡∏•‡∏∞‡∏Å‡∏≠‡∏™‡∏∏‡∏Å‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Other_Fruits_Vegetables: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏±‡∏Å‡∏ä‡∏ô‡∏¥‡∏î‡∏≠‡∏∑‡πà‡∏ô ‡πÜ ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏•‡πà‡∏≤‡∏ß‡∏ñ‡∏∂‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Meat: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ß‡∏±‡∏ß ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏°‡∏π ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÅ‡∏Å‡∏∞ ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÅ‡∏û‡∏∞ ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÑ‡∏Å‡πà ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏õ‡πá‡∏î ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Eggs: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÑ‡∏Ç‡πà‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Fish_Shellfish_Seafood: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏õ‡∏•‡∏≤‡∏™‡∏î ‡∏õ‡∏•‡∏≤‡πÅ‡∏´‡πâ‡∏á ‡∏´‡∏≠‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏∞‡πÄ‡∏•‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏≠‡∏∑‡πà‡∏ô ‡πÜ ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Legumes_Nuts_Foods: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏à‡∏≤‡∏Å‡∏ñ‡∏±‡πà‡∏ß‡∏ï‡πà‡∏≤‡∏á ‡πÜ ‡πÄ‡∏ä‡πà‡∏ô ‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á ‡∏ñ‡∏±‡πà‡∏ß‡∏•‡∏±‡∏ô‡πÄ‡∏ï‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏õ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏Ç‡πá‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Dairy_Products: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡∏à‡∏≤‡∏Å‡∏ô‡∏° ‡πÄ‡∏ä‡πà‡∏ô ‡∏ä‡∏µ‡∏™ ‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï ‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡∏ô‡∏°‡∏≠‡∏∑‡πà‡∏ô ‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Oil_Fats_Butter: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô ‡πÑ‡∏Ç‡∏°‡∏±‡∏ô ‡πÄ‡∏ô‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∏‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏™‡∏°‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Sugary_Foods: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏´‡∏ß‡∏≤‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï ‡∏•‡∏π‡∏Å‡∏Å‡∏ß‡∏≤‡∏î ‡∏Ç‡∏ô‡∏°‡∏´‡∏ß‡∏≤‡∏ô ‡πÄ‡∏ö‡πÄ‡∏Å‡∏≠‡∏£‡∏µ‡πà ‡πÄ‡∏Ñ‡πâ‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡∏´‡∏ß‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏≠‡∏∑‡πà‡∏ô ‡πÜ ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Chilies_Spices_Herbs: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏£‡∏∏‡∏á‡∏£‡∏™ ‡πÄ‡∏ä‡πà‡∏ô ‡∏û‡∏£‡∏¥‡∏Å ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏® ‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£ ‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏á‡∏õ‡∏•‡∏≤ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏™‡∏ä‡∏≤‡∏ï‡∏¥‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Grubs_Snails_Insects: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏´‡∏ô‡∏≠‡∏ô ‡∏´‡∏≠‡∏¢ ‡πÅ‡∏°‡∏•‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Received_Other_Solid_Semi_Solid_Food: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ä‡∏ô‡∏¥‡∏î‡∏≠‡∏∑‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡πÅ‡∏Ç‡πá‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏∂‡πà‡∏á‡∏Ç‡∏≠‡∏á‡πÅ‡∏Ç‡πá‡∏á‡∏ã‡∏∂‡πà‡∏á‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏•‡πà‡∏≤‡∏ß‡∏ñ‡∏∂‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà ‡πÄ‡∏ä‡πà‡∏ô ‡∏Ç‡∏ô‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô ‡πÄ‡∏ï‡πâ‡∏≤‡∏´‡∏π‡πâ‡∏ö‡∏î ‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡∏ö‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≤‡∏ß‡∏ö‡∏î‡∏ú‡∏™‡∏°‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏ï‡πà‡∏≤‡∏á ‡πÜ",
  Received_Salt: "‡πÄ‡∏î‡πá‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
  Number_of_Times_Eaten_Solid_Food: "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏î‡πá‡∏Å‡∏Å‡∏¥‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏ô‡∏°‡πÅ‡∏°‡πà ‡πÄ‡∏ä‡πà‡∏ô ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ö‡∏î ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ô‡∏∏‡πà‡∏° ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ñ‡∏µ‡πâ‡∏¢‡∏ß ‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤",
};

const radioFields = Object.keys(featureLabels).filter(
  (key) => !key.includes("_Count") && key !== "Number_of_Times_Eaten_Solid_Food"
);

const mealOptions = [
  { value: "1-2 meals", label: "1-2 ‡∏°‡∏∑‡πâ‡∏≠" },
  { value: "3-4 meals", label: "3-4 ‡∏°‡∏∑‡πâ‡∏≠" },
  { value: "more than 4 meals", label: "‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 4 ‡∏°‡∏∑‡πâ‡∏≠" },
  { value: "dont eat", label: "‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏¥‡∏ô" },
];

function RiskAssessment() {
  const navigate = useNavigate();
  const [mode, setMode] = useState("normal");
  const [formData, setFormData] = useState(
    Object.fromEntries(Object.keys(featureLabels).map((key) => [key, ""]))
  );
  const [result, setResult] = useState(null);
  const [history, setHistory] = useState([]);

  const handleChange = (e) => {
    const { name, value } = e.target;
    setFormData({ ...formData, [name]: value });
  };

  const handleSubmit = async () => {
    console.log("üü¢ ‡∏õ‡∏∏‡πà‡∏°‡∏ñ‡∏π‡∏Å‡∏Å‡∏î‡πÅ‡∏•‡πâ‡∏ß");
    try {
      const formattedData = {};
      for (const [key, value] of Object.entries(formData)) {
        if (value === "True") {
          formattedData[key] = 1;
        } else if (value === "False") {
          formattedData[key] = 0;
        } else if (key === "Number_of_Times_Eaten_Solid_Food") {
          const mealMap = {
            "1-2 meals": 1,
            "3-4 meals": 2,
            "more than 4 meals": 3,
            "dont eat": 0,
          };
          formattedData[key] = mealMap[value] || 0;
        } else {
          formattedData[key] = value === "" ? 0 : Number(value);
        }
      }

      console.log("üì¶ formattedData ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏™‡πà‡∏á:", formattedData);

      const response = await fetch("http://127.0.0.1:5000/prediction", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(formattedData),
      });

      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);

      const data = await response.json();
      console.log("‚úÖ ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏à‡∏≤‡∏Å API:", data);

      const prediction = data.prediction || "error";
      setResult(prediction);
      setHistory((prev) => [...prev, { date: new Date().toLocaleString(), prediction }]);
    } catch (error) {
      console.error("‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API:", error);
      setResult("error");
    }
  };

  const toggleMode = () => {
    setMode(mode === "normal" ? "doctor" : "normal");
  };

  const inputFields = Object.keys(featureLabels).filter(
    (key) => key.includes("_Count") || key === "Breastfeeding_Count_DayandNight"
  );

  return (
    <div className="assessment-container">
      <div className="card-container">
        <div className="card">
          <h2>‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô</h2>
          <button onClick={toggleMode} className="mode-toggle">
            ‡πÇ‡∏´‡∏°‡∏î‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: {mode === "normal" ? "‡∏õ‡∏Å‡∏ï‡∏¥" : "‡∏ü‡∏±‡∏á‡∏ú‡∏•‡∏à‡∏≤‡∏Å‡πÅ‡∏û‡∏ó‡∏¢‡πå"}
          </button>
          <form>
            {Object.entries(featureLabels).map(([key, label]) =>
              radioFields.includes(key) ? (
                <label key={key}>
                  {label}
                  <div className="radio-group">
                    <label>
                      <input
                        type="radio"
                        name={key}
                        value="True"
                        checked={formData[key] === "True"}
                        onChange={handleChange}
                      />{" "}
                      ‡πÉ‡∏ä‡πà
                    </label>
                    <label>
                      <input
                        type="radio"
                        name={key}
                        value="False"
                        checked={formData[key] === "False"}
                        onChange={handleChange}
                      />{" "}
                      ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà
                    </label>
                  </div>
                </label>
              ) : null
            )}

            <label key="Number_of_Times_Eaten_Solid_Food">
              {featureLabels["Number_of_Times_Eaten_Solid_Food"]}
              <div className="radio-group">
                {mealOptions.map((opt) => (
                  <label key={opt.value}>
                    <input
                      type="radio"
                      name="Number_of_Times_Eaten_Solid_Food"
                      value={opt.value}
                      checked={formData["Number_of_Times_Eaten_Solid_Food"] === opt.value}
                      onChange={handleChange}
                    />{" "}
                    {opt.label}
                  </label>
                ))}
              </div>
            </label>

            {inputFields.map((key) => (
              <label key={key}>
                {featureLabels[key]}
                <input
                  type="number"
                  name={key}
                  value={formData[key]}
                  onChange={handleChange}
                  placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç"
                />
              </label>
            ))}

            <div className="result-card">
              <h2>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</h2>
              {result ? (
                <div className="result">
                  {mode === "doctor" && result !== "Normal" ? (
                    <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ü‡∏±‡∏á‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô</p>
                  ) : result === "Normal" ? (
                    <div className="result normal">
                      <p>‡∏õ‡∏Å‡∏ï‡∏¥</p>
                      <img src={happyFace} alt="Normal" className="result-icon" />
                    </div>
                  ) : (
                    <div className="result warning">
                    <p>{result}</p>
                        <img src={sadFace} alt={result} className="result-icon" />
                          <p style={{ color: "#da0000", marginTop: "8px", fontWeight: "bold" }}>
                             ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏ö‡πÅ‡∏û‡∏ó‡∏¢‡πå
                         </p>
                  </div>

                  )}
                </div>
              ) : (
                <div className="result placeholder">
                  <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</p>
                </div>
              )}
            </div>

            <button
              type="button"
              onClick={() => {
                console.log("üü¢ ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô");
                handleSubmit();
              }}
            >
              ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô
            </button>
            <button
              type="button"
              className="back-button"
              onClick={() => navigate("/parent-dashboard")}
            >
              ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö
            </button>
          </form>
        </div>

        <div className="card history-card">
          <h2>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</h2>
          {history.length === 0 ? (
            <p className="placeholder">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</p>
          ) : (
            <ul>
              {history.map((entry, index) => (
                <li key={index}>
                  {entry.date} - ‡∏ú‡∏•: {entry.prediction}
                </li>
              ))}
            </ul>
          )}
        </div>
      </div>
    </div>
  );
}

export default RiskAssessment;
